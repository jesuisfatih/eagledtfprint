/* =============================================
   EAGLE B2B ACCOUNTS — Premium Design System v2
   Dark-first, glassmorphism, micro-animations
   ============================================= */

@import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap');

/* ── CSS Variables ── */
:root {
  /* ------ Surfaces ------ */
  --bg-primary: #0f1117;
  --bg-secondary: #161920;
  --bg-tertiary: #1c1f2a;
  --bg-elevated: #1e2230;
  --bg-sidebar: rgba(22, 25, 32, 0.92);
  --bg-header: rgba(15, 17, 23, 0.82);
  --bg-hover: rgba(255, 255, 255, 0.04);
  --bg-active: rgba(99, 131, 255, 0.12);
  --bg-modal-overlay: rgba(0, 0, 0, 0.55);
  --bg-card: rgba(30, 34, 48, 0.6);
  --bg-glass: rgba(255, 255, 255, 0.03);
  --bg-input: rgba(255, 255, 255, 0.04);

  /* ------ Typography ------ */
  --text-primary: #eaedf3;
  --text-secondary: #9ba3b5;
  --text-tertiary: #636b7e;
  --text-quaternary: #3d4455;
  --text-white: #ffffff;

  /* ------ Accent Palette ------ */
  --accent: #6383ff;
  --accent-soft: rgba(99, 131, 255, 0.12);
  --accent-hover: #7d9aff;
  --accent-glow: rgba(99, 131, 255, 0.25);

  --green: #36d986;
  --green-soft: rgba(54, 217, 134, 0.12);
  --orange: #f59e42;
  --orange-soft: rgba(245, 158, 66, 0.12);
  --red: #f4516c;
  --red-soft: rgba(244, 81, 108, 0.12);
  --purple: #a78bfa;
  --purple-soft: rgba(167, 139, 250, 0.12);
  --teal: #38bdf8;
  --teal-soft: rgba(56, 189, 248, 0.12);
  --indigo: #818cf8;
  --indigo-soft: rgba(129, 140, 248, 0.12);
  --cyan: #22d3ee;
  --cyan-soft: rgba(34, 211, 238, 0.12);

  /* ------ Borders ------ */
  --border: rgba(255, 255, 255, 0.06);
  --border-light: rgba(255, 255, 255, 0.04);
  --border-focus: rgba(99, 131, 255, 0.5);
  --border-card: rgba(255, 255, 255, 0.07);

  /* ------ Shadows ------ */
  --shadow-xs: 0 1px 2px rgba(0,0,0,0.3);
  --shadow-sm: 0 2px 8px rgba(0,0,0,0.25);
  --shadow-md: 0 4px 16px rgba(0,0,0,0.3);
  --shadow-lg: 0 8px 32px rgba(0,0,0,0.35);
  --shadow-xl: 0 16px 48px rgba(0,0,0,0.4);
  --shadow-glow: 0 0 20px rgba(99, 131, 255, 0.15);
  --shadow-card: 0 4px 24px rgba(0,0,0,0.2), 0 0 0 1px rgba(255,255,255,0.05);

  /* ------ Radii ------ */
  --radius-xs: 6px;
  --radius-sm: 8px;
  --radius-md: 12px;
  --radius-lg: 16px;
  --radius-xl: 20px;
  --radius-2xl: 24px;
  --radius-full: 9999px;

  /* ------ Layout ------ */
  --sidebar-width: 260px;

  /* ------ Motion ------ */
  --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
  --ease-spring: cubic-bezier(0.175, 0.885, 0.32, 1.275);
  --transition-fast: 150ms var(--ease-out);
  --transition-normal: 250ms var(--ease-out);
  --transition-slow: 400ms var(--ease-out);

  /* ------ Gradients ------ */
  --gradient-accent: linear-gradient(135deg, #6383ff, #a78bfa);
  --gradient-surface: linear-gradient(135deg, var(--bg-secondary), var(--bg-tertiary));
  --gradient-login-bg: linear-gradient(135deg, #0a0d14 0%, #0f1729 30%, #1a1040 60%, #0f1117 100%);
  --gradient-mesh: radial-gradient(at 20% 80%, rgba(99,131,255,0.08) 0, transparent 50%),
                   radial-gradient(at 80% 20%, rgba(167,139,250,0.06) 0, transparent 50%),
                   radial-gradient(at 50% 50%, rgba(56,189,248,0.04) 0, transparent 60%);
}

/* ── Light Theme ── */
[data-theme="light"] {
  --bg-primary: #f5f5f7;
  --bg-secondary: #ffffff;
  --bg-tertiary: #fafafa;
  --bg-elevated: #ffffff;
  --bg-sidebar: rgba(255, 255, 255, 0.88);
  --bg-header: rgba(255, 255, 255, 0.88);
  --bg-hover: rgba(0, 0, 0, 0.04);
  --bg-active: rgba(99, 131, 255, 0.10);
  --bg-modal-overlay: rgba(0, 0, 0, 0.25);
  --bg-card: rgba(255, 255, 255, 0.8);
  --bg-glass: rgba(255, 255, 255, 0.6);
  --bg-input: rgba(0, 0, 0, 0.03);

  --text-primary: #1d1d1f;
  --text-secondary: #424245;
  --text-tertiary: #6e6e73;
  --text-quaternary: #aeaeb2;
  --text-white: #ffffff;

  --border: rgba(0, 0, 0, 0.08);
  --border-light: rgba(0, 0, 0, 0.04);
  --border-focus: rgba(99, 131, 255, 0.5);
  --border-card: rgba(0, 0, 0, 0.06);

  --shadow-xs: 0 1px 2px rgba(0,0,0,0.04);
  --shadow-sm: 0 2px 6px rgba(0,0,0,0.06);
  --shadow-md: 0 4px 14px rgba(0,0,0,0.08);
  --shadow-lg: 0 8px 28px rgba(0,0,0,0.1);
  --shadow-xl: 0 16px 44px rgba(0,0,0,0.12);
  --shadow-glow: 0 0 16px rgba(99, 131, 255, 0.1);
  --shadow-card: 0 2px 12px rgba(0,0,0,0.06), 0 0 0 1px rgba(0,0,0,0.04);

  --gradient-login-bg: linear-gradient(135deg, #e8eaf6 0%, #f5f5f7 30%, #e3e0f3 60%, #f5f5f7 100%);
  --gradient-mesh: radial-gradient(at 20% 80%, rgba(99,131,255,0.06) 0, transparent 50%),
                   radial-gradient(at 80% 20%, rgba(167,139,250,0.04) 0, transparent 50%),
                   radial-gradient(at 50% 50%, rgba(56,189,248,0.03) 0, transparent 60%);
}

/* ── Theme Toggle ── */
.theme-toggle {
  width: 38px; height: 38px; border-radius: var(--radius-full); border: none;
  background: transparent; display: flex; align-items: center; justify-content: center;
  cursor: pointer; color: var(--text-tertiary); font-size: 19px;
  transition: all var(--transition-fast); position: relative; overflow: hidden;
}
.theme-toggle:hover { background: var(--bg-hover); color: var(--text-primary); transform: rotate(15deg); }
.theme-toggle .icon-sun,
.theme-toggle .icon-moon { transition: all 0.3s var(--ease-spring); position: absolute; }
.theme-toggle .icon-sun { opacity: 0; transform: scale(0.5) rotate(-90deg); }
.theme-toggle .icon-moon { opacity: 1; transform: scale(1) rotate(0deg); }
[data-theme="light"] .theme-toggle .icon-sun { opacity: 1; transform: scale(1) rotate(0deg); }
[data-theme="light"] .theme-toggle .icon-moon { opacity: 0; transform: scale(0.5) rotate(90deg); }

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

html {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
}

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
  font-size: 14px;
  line-height: 1.6;
  color: var(--text-primary);
  background: var(--bg-primary);
  min-height: 100vh;
}

a { color: var(--accent); text-decoration: none; transition: color var(--transition-fast); }
a:hover { color: var(--accent-hover); }

/* ── Layout ── */
.app-layout { display: flex; min-height: 100vh; }
.app-main {
  flex: 1; margin-left: var(--sidebar-width);
  display: flex; flex-direction: column; min-height: 100vh;
  background: var(--bg-primary);
}
.app-content {
  flex: 1; padding: 32px 36px; max-width: 1400px; width: 100%; margin: 0 auto;
  animation: contentFadeIn 0.4s var(--ease-out);
}

/* ──────────────────────────────────────────────
   SIDEBAR
   ────────────────────────────────────────────── */
.apple-sidebar {
  position: fixed; left: 0; top: 0; bottom: 0; width: var(--sidebar-width);
  background: var(--bg-sidebar);
  backdrop-filter: blur(24px) saturate(180%);
  border-right: 1px solid var(--border);
  display: flex; flex-direction: column; z-index: 100; overflow: hidden;
}

.sidebar-brand {
  padding: 24px 20px 20px; display: flex; align-items: center; gap: 12px;
  text-decoration: none;
}
.sidebar-brand-logo {
  width: 36px; height: 36px; display: flex; align-items: center; justify-content: center;
  font-size: 20px; background: var(--gradient-accent);
  border-radius: var(--radius-md); color: white; line-height: 1;
  box-shadow: 0 4px 12px rgba(99,131,255,0.25);
}
.sidebar-brand-text {
  font-size: 16px; font-weight: 700; color: var(--text-primary);
  letter-spacing: -0.3px;
}

.sidebar-nav { flex: 1; overflow-y: auto; padding: 4px 12px 20px; }
.sidebar-nav::-webkit-scrollbar { width: 0; }

.sidebar-group-label {
  font-size: 10px; font-weight: 700; color: var(--text-quaternary);
  text-transform: uppercase; letter-spacing: 1px; padding: 20px 10px 6px;
}

.sidebar-link {
  display: flex; align-items: center; gap: 12px; padding: 9px 12px;
  border-radius: var(--radius-sm); color: var(--text-secondary);
  font-size: 13.5px; font-weight: 500; transition: all var(--transition-fast);
  cursor: pointer; text-decoration: none; margin: 1px 0;
  position: relative;
}
.sidebar-link:hover {
  background: var(--bg-hover); color: var(--text-primary);
}
.sidebar-link.active {
  background: var(--accent-soft); color: var(--accent);
  font-weight: 600;
}
.sidebar-link.active::before {
  content: ''; position: absolute; left: 0; top: 50%; transform: translateY(-50%);
  width: 3px; height: 20px; background: var(--accent); border-radius: 0 3px 3px 0;
}
.sidebar-link .sidebar-icon { font-size: 18px; width: 22px; text-align: center; opacity: 0.5; }
.sidebar-link:hover .sidebar-icon { opacity: 0.8; }
.sidebar-link.active .sidebar-icon { opacity: 1; }

/* ──────────────────────────────────────────────
   HEADER
   ────────────────────────────────────────────── */
.apple-header {
  position: sticky; top: 0; z-index: 50;
  background: var(--bg-header);
  backdrop-filter: blur(24px) saturate(180%);
  border-bottom: 1px solid var(--border);
  padding: 0 36px; height: 60px;
  display: flex; align-items: center; justify-content: space-between;
}

.header-search {
  display: flex; align-items: center; gap: 10px;
  background: var(--bg-input); border: 1px solid var(--border);
  border-radius: var(--radius-full); padding: 8px 16px; width: 320px;
  transition: all var(--transition-fast);
}
.header-search:focus-within {
  border-color: var(--border-focus);
  box-shadow: 0 0 0 3px var(--accent-glow), var(--shadow-glow);
  background: rgba(255,255,255,0.06);
}
.header-search-icon { color: var(--text-quaternary); font-size: 16px; }
.header-search input {
  border: none; outline: none; background: transparent;
  font-size: 13px; color: var(--text-primary); width: 100%; font-family: inherit;
}
.header-search input::placeholder { color: var(--text-quaternary); }

.header-actions { display: flex; align-items: center; gap: 4px; }
.header-action-btn {
  width: 38px; height: 38px; border-radius: var(--radius-full); border: none;
  background: transparent; display: flex; align-items: center; justify-content: center;
  cursor: pointer; color: var(--text-tertiary); transition: all var(--transition-fast);
  position: relative; font-size: 19px;
}
.header-action-btn:hover { background: var(--bg-hover); color: var(--text-primary); }
.header-badge {
  position: absolute; top: 4px; right: 4px; width: 17px; height: 17px;
  background: var(--red); color: white; font-size: 10px; font-weight: 700;
  border-radius: var(--radius-full); display: flex; align-items: center; justify-content: center;
  border: 2px solid var(--bg-primary);
}

.header-avatar {
  width: 34px; height: 34px; border-radius: var(--radius-full);
  background: var(--gradient-accent);
  color: white; font-size: 12px; font-weight: 700;
  display: flex; align-items: center; justify-content: center; cursor: pointer;
  transition: all var(--transition-fast); box-shadow: 0 2px 8px rgba(99,131,255,0.3);
}
.header-avatar:hover { transform: scale(1.08); box-shadow: 0 4px 16px rgba(99,131,255,0.4); }

/* ── Dropdown ── */
.apple-dropdown {
  position: absolute; top: calc(100% + 8px); right: 0; min-width: 200px;
  background: var(--bg-elevated); border: 1px solid var(--border-card);
  border-radius: var(--radius-md); box-shadow: var(--shadow-lg); padding: 6px; z-index: 200;
  opacity: 0; transform: translateY(-6px) scale(0.97); pointer-events: none;
  transition: all var(--transition-fast);
}
.apple-dropdown.open { opacity: 1; transform: translateY(0) scale(1); pointer-events: all; }

.dropdown-item-apple {
  display: flex; align-items: center; gap: 10px; padding: 9px 14px;
  border-radius: var(--radius-xs); color: var(--text-secondary); font-size: 13px;
  cursor: pointer; transition: all var(--transition-fast);
  border: none; background: none; width: 100%; text-align: left; text-decoration: none;
}
.dropdown-item-apple:hover { background: var(--bg-hover); color: var(--text-primary); }
.dropdown-item-apple.danger { color: var(--red); }
.dropdown-item-apple.danger:hover { background: var(--red-soft); }
.dropdown-divider-apple { height: 1px; background: var(--border); margin: 4px 0; }

/* ──────────────────────────────────────────────
   CARDS
   ────────────────────────────────────────────── */
.apple-card, .card {
  background: var(--bg-card);
  border: 1px solid var(--border-card);
  border-radius: var(--radius-lg);
  box-shadow: var(--shadow-card);
  overflow: hidden;
  transition: all var(--transition-normal);
  backdrop-filter: blur(8px);
}
.apple-card:hover, .card:hover {
  border-color: rgba(99, 131, 255, 0.15);
  box-shadow: var(--shadow-card), var(--shadow-glow);
  transform: translateY(-2px);
}

.apple-card-header, .card-header {
  padding: 20px 24px 0; display: flex; align-items: center; justify-content: space-between;
}
.apple-card-title, .card-title {
  font-size: 16px; font-weight: 600; color: var(--text-primary); letter-spacing: -0.2px;
}
.apple-card-subtitle { font-size: 12px; color: var(--text-tertiary); margin-top: 2px; }
.apple-card-body, .card-body { padding: 20px 24px; }
.apple-card-footer, .card-footer {
  padding: 16px 24px; border-top: 1px solid var(--border);
  background: rgba(255,255,255,0.01);
}

/* ── Stats Card ── */
.stat-card {
  background: var(--bg-card); border: 1px solid var(--border-card);
  border-radius: var(--radius-lg); padding: 22px 24px;
  display: flex; align-items: flex-start; justify-content: space-between;
  transition: all var(--transition-normal);
  backdrop-filter: blur(8px);
}
.stat-card:hover { box-shadow: var(--shadow-md); transform: translateY(-2px); border-color: rgba(99,131,255,0.12); }
.stat-label { font-size: 12px; font-weight: 600; color: var(--text-tertiary); text-transform: uppercase; letter-spacing: 0.5px; }
.stat-value {
  font-size: 30px; font-weight: 800; color: var(--text-primary);
  letter-spacing: -0.5px; line-height: 1.2; margin-top: 6px;
  background: linear-gradient(135deg, var(--text-primary), var(--text-secondary));
  -webkit-background-clip: text; background-clip: text; -webkit-text-fill-color: transparent;
}
.stat-change { font-size: 12px; font-weight: 500; margin-top: 6px; display: flex; align-items: center; gap: 4px; }
.stat-change.positive { color: var(--green); }
.stat-change.negative { color: var(--red); }

.stat-icon {
  width: 48px; height: 48px; border-radius: var(--radius-md);
  display: flex; align-items: center; justify-content: center; font-size: 22px; flex-shrink: 0;
}
.stat-icon.blue { background: var(--accent-soft); color: var(--accent); }
.stat-icon.green { background: var(--green-soft); color: var(--green); }
.stat-icon.orange { background: var(--orange-soft); color: var(--orange); }
.stat-icon.red { background: var(--red-soft); color: var(--red); }
.stat-icon.purple { background: var(--purple-soft); color: var(--purple); }
.stat-icon.teal { background: var(--teal-soft); color: var(--teal); }
.stat-icon.indigo { background: var(--indigo-soft); color: var(--indigo); }

/* ──────────────────────────────────────────────
   BUTTONS
   ────────────────────────────────────────────── */
.btn-apple {
  display: inline-flex; align-items: center; justify-content: center; gap: 6px;
  padding: 9px 18px; border-radius: var(--radius-sm); font-size: 13px; font-weight: 500;
  font-family: inherit; cursor: pointer; transition: all var(--transition-fast);
  border: none; line-height: 1.4; text-decoration: none; white-space: nowrap;
}
.btn-apple:disabled { opacity: 0.4; cursor: not-allowed; }

.btn-apple.primary, .btn-apple-primary {
  background: var(--gradient-accent); color: white;
  box-shadow: 0 2px 12px rgba(99,131,255,0.3);
}
.btn-apple.primary:hover:not(:disabled), .btn-apple-primary:hover:not(:disabled) {
  box-shadow: 0 4px 20px rgba(99,131,255,0.45); transform: translateY(-1px);
}

.btn-apple.secondary, .btn-apple-secondary {
  background: var(--bg-input); color: var(--text-primary);
  border: 1px solid var(--border);
}
.btn-apple.secondary:hover:not(:disabled), .btn-apple-secondary:hover:not(:disabled) {
  background: var(--bg-hover); border-color: rgba(255,255,255,0.1);
}

.btn-apple.danger { background: var(--red-soft); color: var(--red); }
.btn-apple.danger:hover:not(:disabled) { background: var(--red); color: white; }
.btn-apple.success { background: var(--green-soft); color: var(--green); }
.btn-apple.success:hover:not(:disabled) { background: var(--green); color: white; }
.btn-apple.warning { background: var(--orange-soft); color: var(--orange); }
.btn-apple.warning:hover:not(:disabled) { background: var(--orange); color: white; }
.btn-apple.ghost { background: transparent; color: var(--text-secondary); }
.btn-apple.ghost:hover:not(:disabled) { background: var(--bg-hover); color: var(--text-primary); }
.btn-apple.small { padding: 5px 10px; font-size: 12px; border-radius: var(--radius-xs); }
.btn-apple.lg { padding: 12px 24px; font-size: 15px; border-radius: var(--radius-md); }

/* ──────────────────────────────────────────────
   FORM INPUTS
   ────────────────────────────────────────────── */
.input-apple, .form-input {
  width: 100%; padding: 10px 14px; border: 1px solid var(--border);
  border-radius: var(--radius-sm); font-size: 14px; font-family: inherit;
  color: var(--text-primary); background: var(--bg-input);
  transition: all var(--transition-fast); outline: none;
}
.input-apple:focus, .form-input:focus {
  border-color: var(--border-focus);
  box-shadow: 0 0 0 3px var(--accent-glow);
  background: rgba(255,255,255,0.06);
}
.input-apple::placeholder, .form-input::placeholder { color: var(--text-quaternary); }
.input-apple:disabled, .form-input:disabled { opacity: 0.4; background: var(--bg-tertiary); cursor: not-allowed; }
.input-label, .form-label {
  display: block; font-size: 13px; font-weight: 500; color: var(--text-secondary); margin-bottom: 6px;
}
.input-error { font-size: 12px; color: var(--red); margin-top: 4px; }
.input-hint { font-size: 12px; color: var(--text-tertiary); margin-top: 4px; }
.form-group { margin-bottom: 20px; }

/* ── Textarea ── */
.textarea-apple {
  width: 100%; padding: 12px 14px; border: 1px solid var(--border);
  border-radius: var(--radius-sm); font-size: 14px; font-family: inherit;
  color: var(--text-primary); background: var(--bg-input);
  transition: all var(--transition-fast); outline: none; resize: vertical; min-height: 100px;
}
.textarea-apple:focus { border-color: var(--border-focus); box-shadow: 0 0 0 3px var(--accent-glow); }

/* ── Select ── */
.select-apple {
  width: 100%; appearance: none; padding: 10px 36px 10px 14px; border: 1px solid var(--border);
  border-radius: var(--radius-sm); font-size: 14px; font-family: inherit; color: var(--text-primary);
  background: var(--bg-input) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 24 24' fill='none' stroke='%23636b7e' stroke-width='2'%3E%3Cpolyline points='6 9 12 15 18 9'/%3E%3C/svg%3E") no-repeat right 12px center;
  cursor: pointer; outline: none; transition: all var(--transition-fast);
}
.select-apple:focus { border-color: var(--border-focus); box-shadow: 0 0 0 3px var(--accent-glow); }

/* ──────────────────────────────────────────────
   TABLES
   ────────────────────────────────────────────── */
.apple-table { width: 100%; border-collapse: collapse; }
.apple-table th {
  padding: 12px 18px; font-size: 11px; font-weight: 700; color: var(--text-quaternary);
  text-transform: uppercase; letter-spacing: 0.8px; text-align: left;
  background: rgba(255,255,255,0.02); border-bottom: 1px solid var(--border);
}
.apple-table td {
  padding: 14px 18px; font-size: 13px; color: var(--text-primary);
  border-bottom: 1px solid var(--border-light);
}
.apple-table tr:last-child td { border-bottom: none; }
.apple-table tr { transition: background var(--transition-fast); }
.apple-table tr:hover td { background: var(--bg-hover); }
.table-container { overflow-x: auto; }

/* ── Badges ── */
.badge-apple, .badge {
  display: inline-flex; align-items: center; gap: 4px; padding: 4px 12px;
  border-radius: var(--radius-full); font-size: 11px; font-weight: 600; letter-spacing: 0.2px;
}
.badge-apple.blue, .badge-apple.info { background: var(--accent-soft); color: var(--accent); }
.badge-apple.green, .badge-apple.success { background: var(--green-soft); color: var(--green); }
.badge-apple.orange, .badge-apple.warning { background: var(--orange-soft); color: var(--orange); }
.badge-apple.red, .badge-apple.danger { background: var(--red-soft); color: var(--red); }
.badge-apple.purple { background: var(--purple-soft); color: var(--purple); }
.badge-apple.gray, .badge-apple.secondary { background: rgba(255,255,255,0.05); color: var(--text-tertiary); }

/* ── Tabs ── */
.apple-tabs {
  display: flex; gap: 2px; background: rgba(255,255,255,0.03);
  border-radius: var(--radius-sm); padding: 3px; margin-bottom: 24px; width: fit-content;
  border: 1px solid var(--border-light);
}
.apple-tab {
  padding: 8px 18px; border-radius: var(--radius-xs); font-size: 13px; font-weight: 500;
  color: var(--text-tertiary); cursor: pointer; border: none; background: transparent;
  transition: all var(--transition-fast); font-family: inherit; white-space: nowrap;
}
.apple-tab:hover { color: var(--text-primary); }
.apple-tab.active {
  background: var(--accent-soft); color: var(--accent);
  box-shadow: none; font-weight: 600;
}

/* ──────────────────────────────────────────────
   MODAL
   ────────────────────────────────────────────── */
.apple-modal-overlay {
  position: fixed; inset: 0; background: var(--bg-modal-overlay);
  backdrop-filter: blur(12px); display: flex; align-items: center; justify-content: center;
  z-index: 1000; animation: fadeIn 0.2s var(--ease-out);
}
.apple-modal {
  background: var(--bg-elevated); border: 1px solid var(--border-card);
  border-radius: var(--radius-2xl); box-shadow: var(--shadow-xl);
  width: 100%; max-width: 460px; margin: 20px;
  animation: modalSlideUp 0.3s var(--ease-spring);
}
.apple-modal-header { padding: 24px 28px 0; }
.apple-modal-title { font-size: 18px; font-weight: 700; color: var(--text-primary); }
.apple-modal-body { padding: 18px 28px; font-size: 14px; color: var(--text-secondary); line-height: 1.6; }
.apple-modal-footer { padding: 0 28px 24px; display: flex; gap: 10px; justify-content: flex-end; }

/* ── Toast ── */
.apple-toast-container { position: fixed; top: 20px; right: 20px; z-index: 2000; display: flex; flex-direction: column; gap: 10px; }
.apple-toast {
  background: var(--bg-elevated); border: 1px solid var(--border-card);
  border-radius: var(--radius-md); box-shadow: var(--shadow-lg); padding: 14px 18px;
  min-width: 320px; max-width: 440px; display: flex; align-items: center; gap: 12px;
  animation: toastSlideIn 0.3s var(--ease-spring);
  backdrop-filter: blur(16px);
}
.apple-toast .toast-icon {
  width: 30px; height: 30px; border-radius: var(--radius-full);
  display: flex; align-items: center; justify-content: center; flex-shrink: 0; font-size: 14px;
}
.apple-toast.success .toast-icon { background: var(--green-soft); color: var(--green); }
.apple-toast.danger .toast-icon, .apple-toast.error .toast-icon { background: var(--red-soft); color: var(--red); }
.apple-toast.warning .toast-icon { background: var(--orange-soft); color: var(--orange); }
.apple-toast.info .toast-icon { background: var(--accent-soft); color: var(--accent); }
.apple-toast .toast-message { flex: 1; font-size: 13px; font-weight: 500; color: var(--text-primary); }
.apple-toast .toast-close { background: none; border: none; color: var(--text-quaternary); cursor: pointer; padding: 4px; font-size: 16px; }

/* ── Alert ── */
.apple-alert, .alert {
  display: flex; align-items: center; gap: 10px; padding: 14px 18px;
  border-radius: var(--radius-md); font-size: 13px; line-height: 1.5;
}
.apple-alert.info, .alert-info { background: var(--accent-soft); color: var(--accent); }
.apple-alert.success, .alert-success { background: var(--green-soft); color: var(--green); }
.apple-alert.warning, .alert-warning { background: var(--orange-soft); color: var(--orange); }
.apple-alert.error, .apple-alert.danger, .alert-error, .alert-danger { background: var(--red-soft); color: var(--red); }

/* ──────────────────────────────────────────────
   PAGE LAYOUT
   ────────────────────────────────────────────── */
.page-header { margin-bottom: 28px; }
.page-title {
  font-size: 28px; font-weight: 800; color: var(--text-primary);
  letter-spacing: -0.5px;
}
.page-subtitle { font-size: 14px; color: var(--text-tertiary); margin-top: 4px; }

/* ── Grids ── */
.stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr)); gap: 18px; margin-bottom: 28px; }
.content-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr)); gap: 18px; }
.grid-2 { display: grid; grid-template-columns: repeat(2, 1fr); gap: 18px; }
.grid-3 { display: grid; grid-template-columns: repeat(3, 1fr); gap: 18px; }
.grid-4 { display: grid; grid-template-columns: repeat(4, 1fr); gap: 18px; }
@media (max-width: 1200px) { .grid-4 { grid-template-columns: repeat(2, 1fr); } }
@media (max-width: 768px) {
  .grid-2, .grid-3, .grid-4 { grid-template-columns: 1fr; }
  .app-main { margin-left: 0; }
  .apple-sidebar { transform: translateX(-100%); }
  .app-content { padding: 20px; }
  .apple-header { padding: 0 20px; }
}

/* ── Pagination ── */
.apple-pagination {
  display: flex; align-items: center; justify-content: space-between;
  padding: 16px 0; font-size: 13px; color: var(--text-tertiary);
}
.apple-pagination-pages { display: flex; gap: 4px; }
.apple-pagination-btn {
  width: 34px; height: 34px; border-radius: var(--radius-xs);
  border: 1px solid var(--border); background: var(--bg-input);
  color: var(--text-secondary); font-size: 13px; font-weight: 500;
  cursor: pointer; display: flex; align-items: center; justify-content: center;
  transition: all var(--transition-fast);
}
.apple-pagination-btn:hover:not(:disabled) { background: var(--bg-hover); border-color: rgba(255,255,255,0.1); }
.apple-pagination-btn.active { background: var(--accent); color: white; border-color: var(--accent); }
.apple-pagination-btn:disabled { opacity: 0.3; cursor: not-allowed; }

/* ── Toggle ── */
.apple-toggle { position: relative; display: inline-flex; width: 44px; height: 26px; cursor: pointer; }
.apple-toggle input { opacity: 0; width: 0; height: 0; position: absolute; }
.toggle-slider {
  position: absolute; inset: 0; background: var(--text-quaternary);
  border-radius: 13px; transition: background var(--transition-fast);
}
.toggle-slider::after {
  content: ''; position: absolute; top: 2px; left: 2px; width: 22px; height: 22px;
  background: white; border-radius: 50%; box-shadow: 0 1px 3px rgba(0,0,0,0.4);
  transition: transform var(--transition-fast);
}
.apple-toggle input:checked + .toggle-slider { background: var(--green); }
.apple-toggle input:checked + .toggle-slider::after { transform: translateX(18px); }

/* ── Progress bar ── */
.progress-apple { width: 100%; height: 6px; background: rgba(255,255,255,0.06); border-radius: var(--radius-full); overflow: hidden; }
.progress-apple-fill { height: 100%; border-radius: var(--radius-full); transition: width 0.6s var(--ease-out); }
.progress-apple-fill.blue { background: var(--accent); }
.progress-apple-fill.green { background: var(--green); }
.progress-apple-fill.orange { background: var(--orange); }
.progress-apple-fill.red { background: var(--red); }

/* ──────────────────────────────────────────────
   LOGIN / AUTH PAGES
   ────────────────────────────────────────────── */
.login-page {
  min-height: 100vh; display: flex; align-items: center; justify-content: center;
  background: var(--gradient-login-bg);
  position: relative; overflow: hidden; padding: 20px;
}
.login-page::before {
  content: ''; position: absolute; inset: 0;
  background: var(--gradient-mesh);
  pointer-events: none;
}
.login-page::after {
  content: ''; position: absolute; width: 600px; height: 600px;
  background: radial-gradient(circle, rgba(99,131,255,0.08) 0%, transparent 70%);
  top: -200px; right: -200px; pointer-events: none;
  animation: floatOrb 20s ease-in-out infinite;
}

.login-container {
  position: relative; z-index: 1; width: 100%;
  display: flex; align-items: center; justify-content: center;
}

.login-card {
  width: 100%; max-width: 440px;
  background: rgba(30, 34, 48, 0.65);
  backdrop-filter: blur(24px) saturate(180%);
  border: 1px solid rgba(255, 255, 255, 0.08);
  border-radius: var(--radius-2xl);
  box-shadow: var(--shadow-xl), 0 0 80px rgba(99,131,255,0.06);
  padding: 44px 40px;
  animation: loginCardIn 0.6s var(--ease-spring);
}

.login-logo {
  width: 60px; height: 60px; background: var(--gradient-accent);
  border-radius: var(--radius-lg); display: flex; align-items: center; justify-content: center;
  font-size: 28px; margin: 0 auto 20px; color: white;
  box-shadow: 0 8px 24px rgba(99,131,255,0.3);
}
.login-title {
  font-size: 24px; font-weight: 700; color: var(--text-primary);
  text-align: center; margin-bottom: 4px; letter-spacing: -0.3px;
}
.login-subtitle {
  font-size: 14px; color: var(--text-tertiary); text-align: center; margin-bottom: 32px;
}

.login-wrapper { min-height: 100vh; display: flex; align-items: center; justify-content: center; background: var(--bg-primary); padding: 20px; }

/* ── Product card ── */
.product-card {
  background: var(--bg-card); border: 1px solid var(--border-card);
  border-radius: var(--radius-lg); overflow: hidden;
  transition: all var(--transition-normal); cursor: pointer;
  backdrop-filter: blur(8px);
}
.product-card:hover { box-shadow: var(--shadow-md), var(--shadow-glow); transform: translateY(-3px); border-color: rgba(99,131,255,0.15); }
.product-card-image {
  width: 100%; height: 200px; background: rgba(255,255,255,0.03);
  display: flex; align-items: center; justify-content: center;
  color: var(--text-quaternary); font-size: 48px; overflow: hidden;
}
.product-card-image img { width: 100%; height: 100%; object-fit: cover; }
.product-card-body { padding: 16px 18px; }
.product-card-title {
  font-size: 14px; font-weight: 600; color: var(--text-primary);
  margin-bottom: 6px; overflow: hidden; text-overflow: ellipsis; white-space: nowrap;
}
.product-card-price { font-size: 17px; font-weight: 700; color: var(--accent); }
.product-card-vendor { font-size: 11px; color: var(--text-tertiary); margin-top: 4px; }

/* ── Empty state ── */
.empty-state { text-align: center; padding: 60px 20px; }
.empty-state-icon { font-size: 48px; color: var(--text-quaternary); margin-bottom: 16px; }
.empty-state-title { font-size: 17px; font-weight: 600; color: var(--text-primary); margin-bottom: 6px; }
.empty-state-desc { font-size: 14px; color: var(--text-tertiary); max-width: 320px; margin: 0 auto; }

/* ── Loading ── */
.skeleton {
  background: linear-gradient(90deg, rgba(255,255,255,0.04) 25%, rgba(255,255,255,0.08) 50%, rgba(255,255,255,0.04) 75%);
  background-size: 200% 100%; animation: skeleton-shine 1.5s ease-in-out infinite;
  border-radius: var(--radius-sm);
}
@keyframes skeleton-shine { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } }

.spinner-apple {
  width: 32px; height: 32px;
  border: 3px solid rgba(255,255,255,0.08);
  border-top-color: var(--accent);
  border-radius: 50%; animation: spin 0.8s linear infinite;
}

/* ──────────────────────────────────────────────
   ANIMATIONS
   ────────────────────────────────────────────── */
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes modalSlideUp { from { opacity: 0; transform: translateY(16px) scale(0.96); } to { opacity: 1; transform: translateY(0) scale(1); } }
@keyframes toastSlideIn { from { opacity: 0; transform: translateX(24px); } to { opacity: 1; transform: translateX(0); } }
@keyframes spin { to { transform: rotate(360deg); } }
@keyframes fadeInUp { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }
@keyframes contentFadeIn { from { opacity: 0; transform: translateY(8px); } to { opacity: 1; transform: translateY(0); } }
@keyframes loginCardIn { from { opacity: 0; transform: translateY(20px) scale(0.97); } to { opacity: 1; transform: translateY(0) scale(1); } }
@keyframes floatOrb {
  0%, 100% { transform: translate(0, 0); }
  33% { transform: translate(-30px, 20px); }
  66% { transform: translate(20px, -30px); }
}
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
@keyframes pulseGlow {
  0%, 100% { box-shadow: 0 0 20px rgba(99,131,255,0.15); }
  50% { box-shadow: 0 0 40px rgba(99,131,255,0.25); }
}

/* ── Scrollbar ── */
::-webkit-scrollbar { width: 6px; height: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.08); border-radius: 3px; }
::-webkit-scrollbar-thumb:hover { background: rgba(255,255,255,0.12); }

/* ── Cart specific ── */
.cart-item { display: flex; gap: 16px; padding: 16px 0; border-bottom: 1px solid var(--border-light); }
.cart-item:last-child { border-bottom: none; }
.cart-item-image {
  width: 80px; height: 80px; border-radius: var(--radius-md);
  background: rgba(255,255,255,0.03); overflow: hidden; flex-shrink: 0;
  display: flex; align-items: center; justify-content: center;
}
.cart-item-image img { width: 100%; height: 100%; object-fit: cover; }
.cart-item-info { flex: 1; }
.cart-item-title { font-size: 14px; font-weight: 600; color: var(--text-primary); margin-bottom: 4px; }
.cart-item-variant { font-size: 12px; color: var(--text-tertiary); }
.cart-item-price { font-size: 15px; font-weight: 700; color: var(--accent); }

/* ── Quantity input ── */
.qty-control {
  display: inline-flex; align-items: center;
  border: 1px solid var(--border); border-radius: var(--radius-sm); overflow: hidden;
}
.qty-btn {
  width: 34px; height: 34px; border: none;
  background: rgba(255,255,255,0.03); cursor: pointer; font-size: 16px;
  display: flex; align-items: center; justify-content: center;
  color: var(--text-secondary); transition: background var(--transition-fast);
}
.qty-btn:hover { background: var(--bg-hover); }
.qty-btn:disabled { opacity: 0.3; cursor: not-allowed; }
.qty-value {
  width: 50px; height: 34px; border: none;
  border-left: 1px solid var(--border); border-right: 1px solid var(--border);
  text-align: center; font-size: 13px; font-weight: 600; font-family: inherit;
  background: var(--bg-input); color: var(--text-primary); outline: none;
}

/* ── Order timeline ── */
.timeline { position: relative; padding-left: 28px; }
.timeline::before { content: ''; position: absolute; left: 8px; top: 4px; bottom: 4px; width: 2px; background: var(--border); }
.timeline-item { position: relative; padding-bottom: 20px; }
.timeline-item:last-child { padding-bottom: 0; }
.timeline-dot {
  position: absolute; left: -24px; top: 2px; width: 12px; height: 12px;
  border-radius: 50%; border: 2px solid var(--accent); background: var(--bg-primary);
}
.timeline-dot.completed { background: var(--green); border-color: var(--green); }
.timeline-dot.active { background: var(--accent); border-color: var(--accent); box-shadow: 0 0 8px rgba(99,131,255,0.4); }
.timeline-content { padding-left: 8px; }
.timeline-title { font-size: 13px; font-weight: 600; color: var(--text-primary); }
.timeline-time { font-size: 11px; color: var(--text-tertiary); margin-top: 2px; }

/* ── Utilities ── */
.flex { display: flex; }
.flex-col { display: flex; flex-direction: column; }
.items-center { align-items: center; }
.items-start { align-items: flex-start; }
.justify-between { justify-content: space-between; }
.justify-center { justify-content: center; }
.flex-1 { flex: 1; }
.flex-wrap { flex-wrap: wrap; }
.text-center { text-align: center; }
.w-full { width: 100%; }
.gap-8 { gap: 8px; }
.gap-12 { gap: 12px; }
.gap-16 { gap: 16px; }
.gap-20 { gap: 20px; }
.mt-8 { margin-top: 8px; }
.mt-16 { margin-top: 16px; }
.mt-24 { margin-top: 24px; }
.mb-8 { margin-bottom: 8px; }
.mb-16 { margin-bottom: 16px; }
.mb-24 { margin-bottom: 24px; }
