import { PrismaService } from '../prisma/prisma.service';
import { CustomerIntelligenceService } from './customer-intelligence.service';
export declare class ProactiveOfferService {
    private prisma;
    private customerIntelligence;
    private readonly logger;
    constructor(prisma: PrismaService, customerIntelligence: CustomerIntelligenceService);
    generateOffers(merchantId: string): Promise<{
        generated: number;
        strategies: Record<string, number>;
    }>;
    private processStrategy;
    private calculateDiscountValue;
    private calculateMinimumOrder;
    private generateCode;
    private generateMessage;
    private getSuggestedProducts;
    getCustomerOffers(customerId: string): Promise<{
        id: string;
        status: string;
        createdAt: Date;
        updatedAt: Date;
        merchantId: string;
        shopifyCustomerId: string;
        title: string | null;
        discountType: string;
        discountValue: import("@prisma/client-runtime-utils").Decimal;
        discountCode: string | null;
        shopifyDiscountId: string | null;
        suggestedProducts: import("@prisma/client/runtime/client").JsonValue | null;
        channel: string;
        expiresAt: Date;
        strategy: string;
        triggerReason: string | null;
        minimumOrderAmount: import("@prisma/client-runtime-utils").Decimal | null;
        message: string | null;
        deliveredAt: Date | null;
        deliveryStatus: string;
        viewedAt: Date | null;
        acceptedAt: Date | null;
        redeemedAt: Date | null;
        expiredAt: Date | null;
        resultOrderId: string | null;
        resultRevenue: import("@prisma/client-runtime-utils").Decimal | null;
    }[]>;
    getMerchantOffers(merchantId: string, filters?: {
        status?: string;
        strategy?: string;
        limit?: number;
        offset?: number;
    }): Promise<{
        offers: ({
            [x: string]: never;
            [x: number]: never;
            [x: symbol]: never;
        } & {
            id: string;
            status: string;
            createdAt: Date;
            updatedAt: Date;
            merchantId: string;
            shopifyCustomerId: string;
            title: string | null;
            discountType: string;
            discountValue: import("@prisma/client-runtime-utils").Decimal;
            discountCode: string | null;
            shopifyDiscountId: string | null;
            suggestedProducts: import("@prisma/client/runtime/client").JsonValue | null;
            channel: string;
            expiresAt: Date;
            strategy: string;
            triggerReason: string | null;
            minimumOrderAmount: import("@prisma/client-runtime-utils").Decimal | null;
            message: string | null;
            deliveredAt: Date | null;
            deliveryStatus: string;
            viewedAt: Date | null;
            acceptedAt: Date | null;
            redeemedAt: Date | null;
            expiredAt: Date | null;
            resultOrderId: string | null;
            resultRevenue: import("@prisma/client-runtime-utils").Decimal | null;
        })[];
        total: number;
    }>;
    getOfferAnalytics(merchantId: string): Promise<{
        totalSent: number;
        totalAccepted: number;
        totalExpired: number;
        totalRevenue: number;
        conversionRate: string;
        avgRevenuePerAccepted: string;
        byStrategy: Record<string, {
            sent: number;
            accepted: number;
            expired: number;
            revenue: number;
        }>;
        activeOffers: number;
    }>;
    markViewed(offerId: string): Promise<{
        id: string;
        status: string;
        createdAt: Date;
        updatedAt: Date;
        merchantId: string;
        shopifyCustomerId: string;
        title: string | null;
        discountType: string;
        discountValue: import("@prisma/client-runtime-utils").Decimal;
        discountCode: string | null;
        shopifyDiscountId: string | null;
        suggestedProducts: import("@prisma/client/runtime/client").JsonValue | null;
        channel: string;
        expiresAt: Date;
        strategy: string;
        triggerReason: string | null;
        minimumOrderAmount: import("@prisma/client-runtime-utils").Decimal | null;
        message: string | null;
        deliveredAt: Date | null;
        deliveryStatus: string;
        viewedAt: Date | null;
        acceptedAt: Date | null;
        redeemedAt: Date | null;
        expiredAt: Date | null;
        resultOrderId: string | null;
        resultRevenue: import("@prisma/client-runtime-utils").Decimal | null;
    }>;
    markAccepted(offerId: string): Promise<{
        id: string;
        status: string;
        createdAt: Date;
        updatedAt: Date;
        merchantId: string;
        shopifyCustomerId: string;
        title: string | null;
        discountType: string;
        discountValue: import("@prisma/client-runtime-utils").Decimal;
        discountCode: string | null;
        shopifyDiscountId: string | null;
        suggestedProducts: import("@prisma/client/runtime/client").JsonValue | null;
        channel: string;
        expiresAt: Date;
        strategy: string;
        triggerReason: string | null;
        minimumOrderAmount: import("@prisma/client-runtime-utils").Decimal | null;
        message: string | null;
        deliveredAt: Date | null;
        deliveryStatus: string;
        viewedAt: Date | null;
        acceptedAt: Date | null;
        redeemedAt: Date | null;
        expiredAt: Date | null;
        resultOrderId: string | null;
        resultRevenue: import("@prisma/client-runtime-utils").Decimal | null;
    }>;
    markRedeemed(offerId: string, orderId: string, revenue: number): Promise<{
        id: string;
        status: string;
        createdAt: Date;
        updatedAt: Date;
        merchantId: string;
        shopifyCustomerId: string;
        title: string | null;
        discountType: string;
        discountValue: import("@prisma/client-runtime-utils").Decimal;
        discountCode: string | null;
        shopifyDiscountId: string | null;
        suggestedProducts: import("@prisma/client/runtime/client").JsonValue | null;
        channel: string;
        expiresAt: Date;
        strategy: string;
        triggerReason: string | null;
        minimumOrderAmount: import("@prisma/client-runtime-utils").Decimal | null;
        message: string | null;
        deliveredAt: Date | null;
        deliveryStatus: string;
        viewedAt: Date | null;
        acceptedAt: Date | null;
        redeemedAt: Date | null;
        expiredAt: Date | null;
        resultOrderId: string | null;
        resultRevenue: import("@prisma/client-runtime-utils").Decimal | null;
    }>;
    expireOldOffers(merchantId: string): Promise<number>;
    cancelOffer(offerId: string): Promise<{
        id: string;
        status: string;
        createdAt: Date;
        updatedAt: Date;
        merchantId: string;
        shopifyCustomerId: string;
        title: string | null;
        discountType: string;
        discountValue: import("@prisma/client-runtime-utils").Decimal;
        discountCode: string | null;
        shopifyDiscountId: string | null;
        suggestedProducts: import("@prisma/client/runtime/client").JsonValue | null;
        channel: string;
        expiresAt: Date;
        strategy: string;
        triggerReason: string | null;
        minimumOrderAmount: import("@prisma/client-runtime-utils").Decimal | null;
        message: string | null;
        deliveredAt: Date | null;
        deliveryStatus: string;
        viewedAt: Date | null;
        acceptedAt: Date | null;
        redeemedAt: Date | null;
        expiredAt: Date | null;
        resultOrderId: string | null;
        resultRevenue: import("@prisma/client-runtime-utils").Decimal | null;
    }>;
}
