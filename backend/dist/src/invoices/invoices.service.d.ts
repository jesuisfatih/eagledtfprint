import { PrismaService } from '../prisma/prisma.service';
import { ShopifyService } from '../shopify/shopify.service';
export declare class InvoiceService {
    private prisma;
    private shopifyService;
    constructor(prisma: PrismaService, shopifyService: ShopifyService);
    createInvoice(merchantId: string, data: any): Promise<{
        company: {
            name: string;
            id: string;
            status: string;
            settings: import("@prisma/client/runtime/client").JsonValue;
            createdAt: Date;
            updatedAt: Date;
            merchantId: string;
            email: string | null;
            phone: string | null;
            legalName: string | null;
            taxId: string | null;
            website: string | null;
            billingAddress: import("@prisma/client/runtime/client").JsonValue | null;
            shippingAddress: import("@prisma/client/runtime/client").JsonValue | null;
            companyGroup: string | null;
            createdByShopifyCustomerId: bigint | null;
        };
        companyUser: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            shopifyCustomerId: bigint | null;
            email: string;
            firstName: string | null;
            lastName: string | null;
            companyId: string;
            isActive: boolean;
            passwordHash: string | null;
            role: string;
            permissions: import("@prisma/client/runtime/client").JsonValue;
            lastLoginAt: Date | null;
            invitationToken: string | null;
            invitationSentAt: Date | null;
            invitationAcceptedAt: Date | null;
        } | null;
    } & {
        id: string;
        status: string;
        createdAt: Date;
        updatedAt: Date;
        merchantId: string;
        currency: string;
        companyId: string;
        companyUserId: string | null;
        subtotal: import("@prisma/client-runtime-utils").Decimal;
        notes: string | null;
        orderId: string | null;
        quoteId: string | null;
        invoiceNumber: string;
        issueDate: Date;
        dueDate: Date | null;
        paidAt: Date | null;
        tax: import("@prisma/client-runtime-utils").Decimal;
        totalAmount: import("@prisma/client-runtime-utils").Decimal;
        amountPaid: import("@prisma/client-runtime-utils").Decimal;
        fileUrl: string | null;
    }>;
    findAll(merchantId: string, filters?: any): Promise<({
        company: {
            name: string;
            id: string;
            status: string;
            settings: import("@prisma/client/runtime/client").JsonValue;
            createdAt: Date;
            updatedAt: Date;
            merchantId: string;
            email: string | null;
            phone: string | null;
            legalName: string | null;
            taxId: string | null;
            website: string | null;
            billingAddress: import("@prisma/client/runtime/client").JsonValue | null;
            shippingAddress: import("@prisma/client/runtime/client").JsonValue | null;
            companyGroup: string | null;
            createdByShopifyCustomerId: bigint | null;
        };
        order: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            merchantId: string;
            shopifyCustomerId: bigint | null;
            email: string | null;
            phone: string | null;
            tags: string | null;
            rawData: import("@prisma/client/runtime/client").JsonValue | null;
            currency: string | null;
            syncedAt: Date;
            billingAddress: import("@prisma/client/runtime/client").JsonValue | null;
            shippingAddress: import("@prisma/client/runtime/client").JsonValue | null;
            companyId: string | null;
            companyUserId: string | null;
            cartId: string | null;
            shopifyOrderId: bigint;
            shopifyOrderNumber: string | null;
            subtotal: import("@prisma/client-runtime-utils").Decimal | null;
            totalDiscounts: import("@prisma/client-runtime-utils").Decimal | null;
            totalTax: import("@prisma/client-runtime-utils").Decimal | null;
            totalPrice: import("@prisma/client-runtime-utils").Decimal | null;
            totalShipping: import("@prisma/client-runtime-utils").Decimal | null;
            totalRefunded: import("@prisma/client-runtime-utils").Decimal | null;
            financialStatus: string | null;
            fulfillmentStatus: string | null;
            notes: string | null;
            riskLevel: string | null;
            lineItems: import("@prisma/client/runtime/client").JsonValue | null;
            discountCodes: import("@prisma/client/runtime/client").JsonValue | null;
            fulfillments: import("@prisma/client/runtime/client").JsonValue | null;
            refunds: import("@prisma/client/runtime/client").JsonValue | null;
            processedAt: Date | null;
            cancelledAt: Date | null;
            closedAt: Date | null;
        } | null;
    } & {
        id: string;
        status: string;
        createdAt: Date;
        updatedAt: Date;
        merchantId: string;
        currency: string;
        companyId: string;
        companyUserId: string | null;
        subtotal: import("@prisma/client-runtime-utils").Decimal;
        notes: string | null;
        orderId: string | null;
        quoteId: string | null;
        invoiceNumber: string;
        issueDate: Date;
        dueDate: Date | null;
        paidAt: Date | null;
        tax: import("@prisma/client-runtime-utils").Decimal;
        totalAmount: import("@prisma/client-runtime-utils").Decimal;
        amountPaid: import("@prisma/client-runtime-utils").Decimal;
        fileUrl: string | null;
    })[]>;
    findOne(id: string, merchantId: string): Promise<{
        company: {
            name: string;
            id: string;
            status: string;
            settings: import("@prisma/client/runtime/client").JsonValue;
            createdAt: Date;
            updatedAt: Date;
            merchantId: string;
            email: string | null;
            phone: string | null;
            legalName: string | null;
            taxId: string | null;
            website: string | null;
            billingAddress: import("@prisma/client/runtime/client").JsonValue | null;
            shippingAddress: import("@prisma/client/runtime/client").JsonValue | null;
            companyGroup: string | null;
            createdByShopifyCustomerId: bigint | null;
        };
        quote: {
            id: string;
            status: string;
            createdAt: Date;
            updatedAt: Date;
            merchantId: string;
            currency: string;
            companyId: string;
            companyUserId: string | null;
            subtotal: import("@prisma/client-runtime-utils").Decimal;
            totalTax: import("@prisma/client-runtime-utils").Decimal;
            totalPrice: import("@prisma/client-runtime-utils").Decimal;
            notes: string | null;
            quoteNumber: string;
            shopifyDraftOrderId: bigint | null;
            totalDiscount: import("@prisma/client-runtime-utils").Decimal;
            items: import("@prisma/client/runtime/client").JsonValue;
            expiresAt: Date | null;
        } | null;
        companyUser: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            shopifyCustomerId: bigint | null;
            email: string;
            firstName: string | null;
            lastName: string | null;
            companyId: string;
            isActive: boolean;
            passwordHash: string | null;
            role: string;
            permissions: import("@prisma/client/runtime/client").JsonValue;
            lastLoginAt: Date | null;
            invitationToken: string | null;
            invitationSentAt: Date | null;
            invitationAcceptedAt: Date | null;
        } | null;
        order: {
            id: string;
            createdAt: Date;
            updatedAt: Date;
            merchantId: string;
            shopifyCustomerId: bigint | null;
            email: string | null;
            phone: string | null;
            tags: string | null;
            rawData: import("@prisma/client/runtime/client").JsonValue | null;
            currency: string | null;
            syncedAt: Date;
            billingAddress: import("@prisma/client/runtime/client").JsonValue | null;
            shippingAddress: import("@prisma/client/runtime/client").JsonValue | null;
            companyId: string | null;
            companyUserId: string | null;
            cartId: string | null;
            shopifyOrderId: bigint;
            shopifyOrderNumber: string | null;
            subtotal: import("@prisma/client-runtime-utils").Decimal | null;
            totalDiscounts: import("@prisma/client-runtime-utils").Decimal | null;
            totalTax: import("@prisma/client-runtime-utils").Decimal | null;
            totalPrice: import("@prisma/client-runtime-utils").Decimal | null;
            totalShipping: import("@prisma/client-runtime-utils").Decimal | null;
            totalRefunded: import("@prisma/client-runtime-utils").Decimal | null;
            financialStatus: string | null;
            fulfillmentStatus: string | null;
            notes: string | null;
            riskLevel: string | null;
            lineItems: import("@prisma/client/runtime/client").JsonValue | null;
            discountCodes: import("@prisma/client/runtime/client").JsonValue | null;
            fulfillments: import("@prisma/client/runtime/client").JsonValue | null;
            refunds: import("@prisma/client/runtime/client").JsonValue | null;
            processedAt: Date | null;
            cancelledAt: Date | null;
            closedAt: Date | null;
        } | null;
    } & {
        id: string;
        status: string;
        createdAt: Date;
        updatedAt: Date;
        merchantId: string;
        currency: string;
        companyId: string;
        companyUserId: string | null;
        subtotal: import("@prisma/client-runtime-utils").Decimal;
        notes: string | null;
        orderId: string | null;
        quoteId: string | null;
        invoiceNumber: string;
        issueDate: Date;
        dueDate: Date | null;
        paidAt: Date | null;
        tax: import("@prisma/client-runtime-utils").Decimal;
        totalAmount: import("@prisma/client-runtime-utils").Decimal;
        amountPaid: import("@prisma/client-runtime-utils").Decimal;
        fileUrl: string | null;
    }>;
    updateStatus(id: string, merchantId: string, status: string, amountPaid?: number): Promise<{
        company: {
            name: string;
            id: string;
            status: string;
            settings: import("@prisma/client/runtime/client").JsonValue;
            createdAt: Date;
            updatedAt: Date;
            merchantId: string;
            email: string | null;
            phone: string | null;
            legalName: string | null;
            taxId: string | null;
            website: string | null;
            billingAddress: import("@prisma/client/runtime/client").JsonValue | null;
            shippingAddress: import("@prisma/client/runtime/client").JsonValue | null;
            companyGroup: string | null;
            createdByShopifyCustomerId: bigint | null;
        };
    } & {
        id: string;
        status: string;
        createdAt: Date;
        updatedAt: Date;
        merchantId: string;
        currency: string;
        companyId: string;
        companyUserId: string | null;
        subtotal: import("@prisma/client-runtime-utils").Decimal;
        notes: string | null;
        orderId: string | null;
        quoteId: string | null;
        invoiceNumber: string;
        issueDate: Date;
        dueDate: Date | null;
        paidAt: Date | null;
        tax: import("@prisma/client-runtime-utils").Decimal;
        totalAmount: import("@prisma/client-runtime-utils").Decimal;
        amountPaid: import("@prisma/client-runtime-utils").Decimal;
        fileUrl: string | null;
    }>;
    updateFileUrl(id: string, merchantId: string, fileUrl: string): Promise<{
        id: string;
        status: string;
        createdAt: Date;
        updatedAt: Date;
        merchantId: string;
        currency: string;
        companyId: string;
        companyUserId: string | null;
        subtotal: import("@prisma/client-runtime-utils").Decimal;
        notes: string | null;
        orderId: string | null;
        quoteId: string | null;
        invoiceNumber: string;
        issueDate: Date;
        dueDate: Date | null;
        paidAt: Date | null;
        tax: import("@prisma/client-runtime-utils").Decimal;
        totalAmount: import("@prisma/client-runtime-utils").Decimal;
        amountPaid: import("@prisma/client-runtime-utils").Decimal;
        fileUrl: string | null;
    }>;
    getStatistics(merchantId: string): Promise<{
        totalInvoiced: number;
        totalPaid: number;
        totalPending: number;
        totalOverdue: number;
        totalCount: number;
        paidCount: number;
        overdueCount: number;
        recentPaid30d: number;
        collectionRate: number;
        topCompanies: {
            name: string;
            total: number;
            paid: number;
            pending: number;
            count: number;
        }[];
    }>;
    markOverdueInvoices(merchantId: string): Promise<{
        updated: number;
    }>;
    recordPayment(id: string, merchantId: string, amount: number): Promise<{
        company: {
            name: string;
            id: string;
            status: string;
            settings: import("@prisma/client/runtime/client").JsonValue;
            createdAt: Date;
            updatedAt: Date;
            merchantId: string;
            email: string | null;
            phone: string | null;
            legalName: string | null;
            taxId: string | null;
            website: string | null;
            billingAddress: import("@prisma/client/runtime/client").JsonValue | null;
            shippingAddress: import("@prisma/client/runtime/client").JsonValue | null;
            companyGroup: string | null;
            createdByShopifyCustomerId: bigint | null;
        };
    } & {
        id: string;
        status: string;
        createdAt: Date;
        updatedAt: Date;
        merchantId: string;
        currency: string;
        companyId: string;
        companyUserId: string | null;
        subtotal: import("@prisma/client-runtime-utils").Decimal;
        notes: string | null;
        orderId: string | null;
        quoteId: string | null;
        invoiceNumber: string;
        issueDate: Date;
        dueDate: Date | null;
        paidAt: Date | null;
        tax: import("@prisma/client-runtime-utils").Decimal;
        totalAmount: import("@prisma/client-runtime-utils").Decimal;
        amountPaid: import("@prisma/client-runtime-utils").Decimal;
        fileUrl: string | null;
    }>;
    duplicateInvoice(id: string, merchantId: string): Promise<{
        company: {
            name: string;
            id: string;
            status: string;
            settings: import("@prisma/client/runtime/client").JsonValue;
            createdAt: Date;
            updatedAt: Date;
            merchantId: string;
            email: string | null;
            phone: string | null;
            legalName: string | null;
            taxId: string | null;
            website: string | null;
            billingAddress: import("@prisma/client/runtime/client").JsonValue | null;
            shippingAddress: import("@prisma/client/runtime/client").JsonValue | null;
            companyGroup: string | null;
            createdByShopifyCustomerId: bigint | null;
        };
    } & {
        id: string;
        status: string;
        createdAt: Date;
        updatedAt: Date;
        merchantId: string;
        currency: string;
        companyId: string;
        companyUserId: string | null;
        subtotal: import("@prisma/client-runtime-utils").Decimal;
        notes: string | null;
        orderId: string | null;
        quoteId: string | null;
        invoiceNumber: string;
        issueDate: Date;
        dueDate: Date | null;
        paidAt: Date | null;
        tax: import("@prisma/client-runtime-utils").Decimal;
        totalAmount: import("@prisma/client-runtime-utils").Decimal;
        amountPaid: import("@prisma/client-runtime-utils").Decimal;
        fileUrl: string | null;
    }>;
    getCompanyInvoices(companyId: string): Promise<{
        id: string;
        status: string;
        createdAt: Date;
        updatedAt: Date;
        merchantId: string;
        currency: string;
        companyId: string;
        companyUserId: string | null;
        subtotal: import("@prisma/client-runtime-utils").Decimal;
        notes: string | null;
        orderId: string | null;
        quoteId: string | null;
        invoiceNumber: string;
        issueDate: Date;
        dueDate: Date | null;
        paidAt: Date | null;
        tax: import("@prisma/client-runtime-utils").Decimal;
        totalAmount: import("@prisma/client-runtime-utils").Decimal;
        amountPaid: import("@prisma/client-runtime-utils").Decimal;
        fileUrl: string | null;
    }[]>;
}
