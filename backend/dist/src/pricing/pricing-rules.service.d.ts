import { PrismaService } from '../prisma/prisma.service';
export interface CreatePricingRuleDto {
    name: string;
    description?: string;
    targetType: 'all' | 'company' | 'company_group' | 'company_user' | 'segment' | 'buyer_intent';
    targetCompanyId?: string;
    targetCompanyUserId?: string;
    targetCompanyGroup?: string;
    targetSegment?: string;
    targetBuyerIntent?: string;
    scopeType: 'all' | 'products' | 'collections' | 'tags' | 'variants';
    scopeProductIds?: bigint[];
    scopeCollectionIds?: bigint[];
    scopeTags?: string;
    scopeVariantIds?: bigint[];
    discountType: 'percentage' | 'fixed_amount' | 'fixed_price' | 'qty_break';
    discountValue?: number;
    discountPercentage?: number;
    qtyBreaks?: any[];
    minCartAmount?: number;
    priority?: number;
    isActive?: boolean;
    validFrom?: Date;
    validUntil?: Date;
}
export declare class PricingRulesService {
    private prisma;
    private readonly logger;
    constructor(prisma: PrismaService);
    create(merchantId: string, dto: CreatePricingRuleDto): Promise<{
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        merchantId: string;
        description: string | null;
        targetType: string;
        targetCompanyId: string | null;
        targetCompanyUserId: string | null;
        targetCompanyGroup: string | null;
        scopeType: string;
        scopeProductIds: bigint[];
        scopeCollectionIds: bigint[];
        scopeTags: string | null;
        scopeVariantIds: bigint[];
        discountType: string;
        discountValue: import("@prisma/client-runtime-utils").Decimal | null;
        discountPercentage: import("@prisma/client-runtime-utils").Decimal | null;
        qtyBreaks: import("@prisma/client/runtime/client").JsonValue | null;
        minCartAmount: import("@prisma/client-runtime-utils").Decimal | null;
        priority: number;
        isActive: boolean;
        validFrom: Date | null;
        validUntil: Date | null;
    }>;
    findAll(merchantId: string, filters?: {
        isActive?: boolean;
        companyId?: string;
        companyUserId?: string;
        targetType?: string;
    }): Promise<({
        targetCompany: {
            name: string;
            id: string;
        } | null;
        targetCompanyUser: {
            id: string;
            email: string;
            firstName: string | null;
            lastName: string | null;
        } | null;
    } & {
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        merchantId: string;
        description: string | null;
        targetType: string;
        targetCompanyId: string | null;
        targetCompanyUserId: string | null;
        targetCompanyGroup: string | null;
        scopeType: string;
        scopeProductIds: bigint[];
        scopeCollectionIds: bigint[];
        scopeTags: string | null;
        scopeVariantIds: bigint[];
        discountType: string;
        discountValue: import("@prisma/client-runtime-utils").Decimal | null;
        discountPercentage: import("@prisma/client-runtime-utils").Decimal | null;
        qtyBreaks: import("@prisma/client/runtime/client").JsonValue | null;
        minCartAmount: import("@prisma/client-runtime-utils").Decimal | null;
        priority: number;
        isActive: boolean;
        validFrom: Date | null;
        validUntil: Date | null;
    })[]>;
    findOne(id: string, merchantId: string): Promise<{
        targetCompany: {
            name: string;
            id: string;
        } | null;
        targetCompanyUser: {
            id: string;
            email: string;
            firstName: string | null;
            lastName: string | null;
        } | null;
    } & {
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        merchantId: string;
        description: string | null;
        targetType: string;
        targetCompanyId: string | null;
        targetCompanyUserId: string | null;
        targetCompanyGroup: string | null;
        scopeType: string;
        scopeProductIds: bigint[];
        scopeCollectionIds: bigint[];
        scopeTags: string | null;
        scopeVariantIds: bigint[];
        discountType: string;
        discountValue: import("@prisma/client-runtime-utils").Decimal | null;
        discountPercentage: import("@prisma/client-runtime-utils").Decimal | null;
        qtyBreaks: import("@prisma/client/runtime/client").JsonValue | null;
        minCartAmount: import("@prisma/client-runtime-utils").Decimal | null;
        priority: number;
        isActive: boolean;
        validFrom: Date | null;
        validUntil: Date | null;
    }>;
    update(id: string, merchantId: string, dto: Partial<CreatePricingRuleDto>): Promise<{
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        merchantId: string;
        description: string | null;
        targetType: string;
        targetCompanyId: string | null;
        targetCompanyUserId: string | null;
        targetCompanyGroup: string | null;
        scopeType: string;
        scopeProductIds: bigint[];
        scopeCollectionIds: bigint[];
        scopeTags: string | null;
        scopeVariantIds: bigint[];
        discountType: string;
        discountValue: import("@prisma/client-runtime-utils").Decimal | null;
        discountPercentage: import("@prisma/client-runtime-utils").Decimal | null;
        qtyBreaks: import("@prisma/client/runtime/client").JsonValue | null;
        minCartAmount: import("@prisma/client-runtime-utils").Decimal | null;
        priority: number;
        isActive: boolean;
        validFrom: Date | null;
        validUntil: Date | null;
    }>;
    delete(id: string, merchantId: string): Promise<{
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        merchantId: string;
        description: string | null;
        targetType: string;
        targetCompanyId: string | null;
        targetCompanyUserId: string | null;
        targetCompanyGroup: string | null;
        scopeType: string;
        scopeProductIds: bigint[];
        scopeCollectionIds: bigint[];
        scopeTags: string | null;
        scopeVariantIds: bigint[];
        discountType: string;
        discountValue: import("@prisma/client-runtime-utils").Decimal | null;
        discountPercentage: import("@prisma/client-runtime-utils").Decimal | null;
        qtyBreaks: import("@prisma/client/runtime/client").JsonValue | null;
        minCartAmount: import("@prisma/client-runtime-utils").Decimal | null;
        priority: number;
        isActive: boolean;
        validFrom: Date | null;
        validUntil: Date | null;
    }>;
    toggleActive(id: string, merchantId: string, isActive: boolean): Promise<{
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        merchantId: string;
        description: string | null;
        targetType: string;
        targetCompanyId: string | null;
        targetCompanyUserId: string | null;
        targetCompanyGroup: string | null;
        scopeType: string;
        scopeProductIds: bigint[];
        scopeCollectionIds: bigint[];
        scopeTags: string | null;
        scopeVariantIds: bigint[];
        discountType: string;
        discountValue: import("@prisma/client-runtime-utils").Decimal | null;
        discountPercentage: import("@prisma/client-runtime-utils").Decimal | null;
        qtyBreaks: import("@prisma/client/runtime/client").JsonValue | null;
        minCartAmount: import("@prisma/client-runtime-utils").Decimal | null;
        priority: number;
        isActive: boolean;
        validFrom: Date | null;
        validUntil: Date | null;
    }>;
    duplicate(id: string, merchantId: string): Promise<{
        name: string;
        id: string;
        createdAt: Date;
        updatedAt: Date;
        merchantId: string;
        description: string | null;
        targetType: string;
        targetCompanyId: string | null;
        targetCompanyUserId: string | null;
        targetCompanyGroup: string | null;
        scopeType: string;
        scopeProductIds: bigint[];
        scopeCollectionIds: bigint[];
        scopeTags: string | null;
        scopeVariantIds: bigint[];
        discountType: string;
        discountValue: import("@prisma/client-runtime-utils").Decimal | null;
        discountPercentage: import("@prisma/client-runtime-utils").Decimal | null;
        qtyBreaks: import("@prisma/client/runtime/client").JsonValue | null;
        minCartAmount: import("@prisma/client-runtime-utils").Decimal | null;
        priority: number;
        isActive: boolean;
        validFrom: Date | null;
        validUntil: Date | null;
    }>;
    bulkToggle(merchantId: string, ruleIds: string[], isActive: boolean): Promise<import("@prisma/client").Prisma.BatchPayload>;
}
